# PDF Generator

Python-скрипт для генерации PDF-документов из данных CSV/JSON с использованием HTML-шаблонов и WeasyPrint.

## Описание

Профессиональный инструмент для создания PDF-документов на основе данных из CSV или JSON файлов. Поддерживает работу с сущностями Product, Invoice и Order. Использует HTML-шаблоны с Jinja2 для гибкой настройки внешнего вида документов.

## Возможности

- ✅ Генерация тестовых данных для сущностей: Product, Invoice, Order
- ✅ Сохранение данных в форматах CSV и JSON
- ✅ HTML-шаблоны с поддержкой кириллицы (шрифты DejaVu Sans, Roboto)
- ✅ Интерактивное меню для выбора файлов и данных
- ✅ Генерация PDF с помощью WeasyPrint
- ✅ Автоматическое открытие созданных PDF-файлов
- ✅ Множественный выбор продуктов для одного документа
- ✅ Группировка заказов по номеру счета
- ✅ Профессиональное оформление таблиц с серыми оттенками
- ✅ Кроссплатформенность (Linux, macOS, Windows)

## Установка

### Требования

- Python 3.7 или выше
- pip (менеджер пакетов Python)

### Шаги установки

1. Клонируйте репозиторий:
```bash
git clone https://github.com/ваш-username/pdf_generator.git
cd pdf_generator
```

2. Создайте виртуальное окружение (рекомендуется):
```bash
python -m venv venv

# Linux/macOS
source venv/bin/activate

# Windows
venv\Scripts\activate
```

3. Установите зависимости:
```bash
pip install -r requirements.txt
```

4. Запустите скрипт:
```bash
python pdf_generator.py
```

## Структура проекта

```
pdf_generator/
├── pdf_generator.py    # Основной скрипт
├── requirements.txt    # Зависимости
├── data/               # Файлы данных (CSV/JSON)
├── templates/          # HTML-шаблоны
└── output/             # Сгенерированные PDF-файлы
```

## Использование

При первом запуске скрипт автоматически создаст:
- Тестовые данные в `/data` (CSV и JSON форматы)
- HTML-шаблоны в `/templates`
- Директорию `/output` для PDF-файлов

### Процесс работы:

1. **Выбор файла данных** - выберите CSV или JSON файл из директории `/data`
2. **Выбор шаблона** - выберите HTML-шаблон для генерации PDF
3. **Выбор данных** - в зависимости от типа сущности:
   - Для **Invoice**: выберите номер чека, автоматически загрузятся связанные заказы
   - Для **Product**: выберите один или несколько товаров (можно указать через запятую или `all`)
   - Для **Order**: выберите номер счета, отобразятся все позиции заказа
4. **Генерация PDF** - документ будет создан и автоматически открыт
5. **Продолжение работы** - после создания документа можно создать еще один или завершить работу

### Команды выхода

В любой момент работы программы можно выйти, введя одну из команд:
- `exit`
- `quit`
- `q`
- `выход` (на русском)
- `в` (краткая форма на русском)

Команда работает во всех меню и при запросе продолжения работы.

## Зависимости

Основные библиотеки:
- **WeasyPrint** (>=60.0) - генерация PDF из HTML
- **Jinja2** (>=3.1.0) - шаблонизация HTML
- **pandas** (>=2.0.0) - работа с CSV файлами

Все зависимости указаны в `requirements.txt`

## Структура данных

### Product
- `id` - уникальный идентификатор
- `name` - название товара
- `price` - цена
- `description` - описание
- `category` - категория

### Invoice
- `id` - номер счета
- `customer_name` - имя клиента
- `date` - дата
- `total` - общая сумма
- `status` - статус

### Order
- `id` - уникальный идентификатор строки
- `product_name` - название товара
- `invoice_number` - номер счета
- `quantity` - количество
- `price` - цена за единицу

## Поддержка платформ

Скрипт протестирован и работает на:
- ✅ Linux
- ✅ macOS
- ✅ Windows

## Лицензия

Этот проект распространяется свободно. Используйте по своему усмотрению.

## Автор

Создано с использованием Python, WeasyPrint и Jinja2.

## Вклад в проект

Если вы хотите внести свой вклад в проект:
1. Сделайте Fork репозитория
2. Создайте ветку для новой функции (`git checkout -b feature/AmazingFeature`)
3. Зафиксируйте изменения (`git commit -m 'Add some AmazingFeature'`)
4. Отправьте в ветку (`git push origin feature/AmazingFeature`)
5. Откройте Pull Request

